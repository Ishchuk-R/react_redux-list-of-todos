(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{27:function(e,t,n){e.exports=n(39)},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(13),o=n.n(c),u=n(3),s=n(25),i=n(7),l=n(2),d=n(9),p=n(23),m=function(){return{type:"START_LOADING"}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No message";return{type:"FINISH_LOADING",message:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"TODOS",todos:e}},O=function(e){return e.loading},j=function(e){return e.message},E=function(e){return e.todos},v=function(e){return e.visible},y=function(e){return e.sort},h={loading:!1,visible:!1,message:"",todos:[],error:"",sort:""},g=Object(d.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case"FINISH_LOADING":return Object(l.a)(Object(l.a)({},e),{},{loading:!1,message:t.message});case"TODOS":return Object(l.a)(Object(l.a)({},e),{},{todos:Object(i.a)(t.todos)});case"VISIBLE_CONTENT":return Object(l.a)(Object(l.a)({},e),{},{visible:!0});case"DELETE_TODO_ITEM":return Object(l.a)(Object(l.a)({},e),{},{todos:Object(i.a)(e.todos).filter((function(e){return e.id!==t.index}))});case"SORT_FIELD":return Object(l.a)(Object(l.a)({},e),{},{sort:t.sort});default:return e}}),Object(p.composeWithDevTools)()),T=n(6),I=n.n(T),N=n(12),S=(n(37),{load:m}),_=Object(u.b)((function(e){return{loading:O(e)}}),S)((function(e){var t=e.handleLoadClick,n=e.loading,r=e.title;return a.a.createElement("button",{type:"button",className:"btn btn-success",onClick:t,disabled:n},r)})),w=n(24),D=n.n(w),L=function(){var e=Object(u.c)(),t=Object(u.d)(E),n=Object(u.d)(y),r=function(e,t){switch(t){case"title":return Object(i.a)(e).sort((function(e,t){return e.title.localeCompare(t.title)}));case"completed":return Object(i.a)(e).sort((function(e,t){return+e.completed-+t.completed}));case"user":return Object(i.a)(e).sort((function(e,t){return e.user.name.localeCompare(t.user.name)}));default:return e}}(t,n);return a.a.createElement("div",null,r.map((function(t){var n=t.completed,r=t.user,c=t.title,o=t.id;return a.a.createElement("div",{className:D()("alert",{"alert-success":n,"alert-primary":!n}),key:o},a.a.createElement("span",{className:"todo-title"},c),a.a.createElement("span",null,r.name),a.a.createElement("button",{type:"button",onClick:function(){e(function(e){return{type:"DELETE_TODO_ITEM",index:e}}(o))}}," X"))})))},k=[{name:"Sort by Name",sortType:"title"},{name:"Sort by Completed",sortType:"completed"},{name:"Sort by User Name",sortType:"user"}],x=function(){var e=Object(u.c)();return a.a.createElement("p",null,k.map((function(t){var n=t.name,r=t.sortType;return a.a.createElement("button",{type:"button",key:n,onClick:function(){return function(t){e({type:"SORT_FIELD",sort:t})}(r)},className:"title"===r?"btn btn-warning active":"btn btn-warning"},n)})))},C=n(26),A="https://mate-academy.github.io/react_dynamic-list-of-todos/api";function R(e){return F.apply(this,arguments)}function F(){return(F=Object(N.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return B.apply(this,arguments)}function B(){return(B=Object(N.a)(I.a.mark((function e(){var t,n,r,a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([R("".concat(A,"/todos.json")),R("".concat(A,"/users.json"))]);case 2:return t=e.sent,n=Object(C.a)(t,2),r=n[0],a=n[1],c=r.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{user:a.find((function(t){return t.id===e.userId}))})})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=Object(u.c)(),t=Object(u.d)(O),n=Object(u.d)(j)||"",r=Object(u.d)(v),c=function(){var t=Object(N.a)(I.a.mark((function t(){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"START_LOADING"}),t.prev=1,t.next=4,G();case 4:n=t.sent,e(f(n)),e(b("")),e({type:"VISIBLE_CONTENT"}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e(b("Something went wrong: ".concat(t.t0)));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Redux list of todos"),a.a.createElement("h5",null,t?"Loading...":n),r?a.a.createElement(a.a.Fragment,null,a.a.createElement(x,null),a.a.createElement(L,null)):a.a.createElement(_,{title:"Start loading",handleLoadClick:c}))},J=function(){return a.a.createElement(u.a,{store:g},a.a.createElement(s.a,null,a.a.createElement(H,null)))};o.a.render(a.a.createElement(J,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.e5ac5236.chunk.js.map